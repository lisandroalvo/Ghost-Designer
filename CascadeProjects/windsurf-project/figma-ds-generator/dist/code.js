"use strict";var ui=(()=>{var S=Object.defineProperty,x=Object.defineProperties;var C=Object.getOwnPropertyDescriptors;var m=Object.getOwnPropertySymbols;var F=Object.prototype.hasOwnProperty,T=Object.prototype.propertyIsEnumerable;var p=(e,t,r)=>t in e?S(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,d=(e,t)=>{for(var r in t||(t={}))F.call(t,r)&&p(e,r,t[r]);if(m)for(var r of m(t))T.call(t,r)&&p(e,r,t[r]);return e},f=(e,t)=>x(e,C(t));var I=(e,t)=>()=>(e&&(t=e(e=0)),t);var O=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var y=(e,t,r)=>new Promise((l,a)=>{var n=c=>{try{o(r.next(c))}catch(g){a(g)}},i=c=>{try{o(r.throw(c))}catch(g){a(g)}},o=c=>c.done?l(c.value):Promise.resolve(c.value).then(n,i);o((r=r.apply(e,t)).next())});var h,u=I(()=>{h={colors:{primary:{"500":"#4F46E5","600":"#4338CA"},neutral:{"0":"#FFFFFF","50":"#F9FAFB","900":"#111827"},danger:{"500":"#EF4444"}},typography:{body:{fontFamily:"Inter",fontSize:14,lineHeight:20,fontWeight:400},label:{fontFamily:"Inter",fontSize:12,lineHeight:16,fontWeight:600}},spacing:{xs:4,sm:8,md:12,lg:16,xl:24},radii:{sm:4,md:8,lg:12,pill:999},elevation:{"1":{type:"drop-shadow",x:0,y:1,blur:2,spread:0,color:"rgba(0,0,0,0.1)"},"2":{type:"drop-shadow",x:0,y:4,blur:8,spread:0,color:"rgba(0,0,0,0.12)"}}}});var B=O(b=>{u();figma.showUI(__html__,{width:320,height:480});figma.ui.onmessage=e=>y(b,null,function*(){if(e.type==="generate")try{let t=e.options,r;if(t.useBuiltInTokens)r=h;else if(t.tokensJson)try{r=JSON.parse(t.tokensJson)}catch(i){figma.ui.postMessage({type:"error",message:`Invalid JSON: ${i instanceof Error?i.message:"Unknown error"}`});return}else{figma.ui.postMessage({type:"error",message:"No tokens provided"});return}let l=figma.root.children.find(i=>i.name==="Design System");l||(l=figma.createPage(),l.name="Design System"),figma.currentPage=l,l.children.forEach(i=>i.remove()),t.generateStyles&&L(r);let a=50,n=50;t.generateButton&&(E(r,a,n),a+=400),t.generateTextField&&(D(r,a,n),a+=400),t.generateCard&&w(r,a,n),figma.viewport.scrollAndZoomIntoView(l.children),figma.ui.postMessage({type:"complete"})}catch(t){console.error("Generation error:",t),figma.ui.postMessage({type:"error",message:`Generation failed: ${t instanceof Error?t.message:"Unknown error"}`})}});function s(e){let t=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(e);return t?{r:parseInt(t[1],16)/255,g:parseInt(t[2],16)/255,b:parseInt(t[3],16)/255}:{r:0,g:0,b:0}}function L(e){Object.entries(e.colors).forEach(([t,r])=>{Object.entries(r).forEach(([l,a])=>{let n=`${t}/${l}`;if(figma.getLocalPaintStyles().find(g=>g.name===n))return;let o=figma.createPaintStyle();o.name=n;let c=s(a);o.paints=[{type:"SOLID",color:c}]})}),Object.entries(e.typography).forEach(([t,r])=>{let l=`Text/${t}`;if(figma.getLocalTextStyles().find(i=>i.name===l))return;let n=figma.createTextStyle();n.name=l,n.fontSize=r.fontSize,n.fontName={family:r.fontFamily,style:"Regular"},n.lineHeight={value:r.lineHeight,unit:"PIXELS"}})}function E(e,t,r){["primary","secondary","danger"].forEach((a,n)=>{let i=R(e,a);i.x=t,i.y=r+n*80;let o=figma.createComponent();o.appendChild(i),o.name=`Button/${a}`,figma.currentPage.appendChild(o)})}function R(e,t){let r=figma.createFrame();r.name=`Button-${t}`,r.resize(120,40),r.cornerRadius=e.radii.md;let l,a;switch(t){case"primary":l=s(e.colors.primary[500]),a=s(e.colors.neutral[0]);break;case"secondary":l=s(e.colors.neutral[50]),a=s(e.colors.neutral[900]),r.strokes=[{type:"SOLID",color:s(e.colors.neutral[900])}],r.strokeWeight=1;break;case"danger":l=s(e.colors.danger[500]),a=s(e.colors.neutral[0]);break;default:l=s(e.colors.primary[500]),a=s(e.colors.neutral[0])}r.fills=[{type:"SOLID",color:l}];let n=figma.createText();return n.characters=`${t.charAt(0).toUpperCase()+t.slice(1)} Button`,n.fontSize=e.typography.label.fontSize,n.fontName={family:e.typography.label.fontFamily,style:"Regular"},n.fills=[{type:"SOLID",color:a}],n.textAlignHorizontal="CENTER",n.textAlignVertical="CENTER",n.resize(r.width,r.height),r.appendChild(n),r}function D(e,t,r){["default","error","disabled"].forEach((a,n)=>{let i=N(e,a);i.x=t,i.y=r+n*120;let o=figma.createComponent();o.appendChild(i),o.name=`TextField/${a}`,figma.currentPage.appendChild(o)})}function N(e,t){let r=figma.createFrame();r.name=`TextField-${t}`,r.layoutMode="VERTICAL",r.itemSpacing=e.spacing.xs,r.fills=[];let l=figma.createText();l.characters="Label Text",l.fontSize=e.typography.label.fontSize,l.fontName={family:e.typography.label.fontFamily,style:"Regular"},l.fills=[{type:"SOLID",color:s(e.colors.neutral[900])}],r.appendChild(l);let a=figma.createFrame();a.resize(250,40),a.cornerRadius=e.radii.sm;let n=s(t==="disabled"?e.colors.neutral[50]:e.colors.neutral[0]);a.fills=[{type:"SOLID",color:n}];let i=s(t==="error"?e.colors.danger[500]:e.colors.neutral[50]);a.strokes=[{type:"SOLID",color:i}],a.strokeWeight=1;let o=figma.createText();if(o.characters="Placeholder text",o.fontSize=e.typography.body.fontSize,o.fontName={family:e.typography.body.fontFamily,style:"Regular"},o.fills=[{type:"SOLID",color:s(e.colors.neutral[900])}],o.opacity=t==="disabled"?.5:1,o.x=e.spacing.sm,o.y=(a.height-o.height)/2,a.appendChild(o),r.appendChild(a),t==="error"){let c=figma.createText();c.characters="Error message here",c.fontSize=e.typography.label.fontSize,c.fontName={family:e.typography.label.fontFamily,style:"Regular"},c.fills=[{type:"SOLID",color:s(e.colors.danger[500])}],r.appendChild(c)}return r}function w(e,t,r){["default","elevated"].forEach((a,n)=>{let i=$(e,a);i.x=t,i.y=r+n*200;let o=figma.createComponent();o.appendChild(i),o.name=`Card/${a}`,figma.currentPage.appendChild(o)})}function $(e,t){let r=figma.createFrame();r.name=`Card-${t}`,r.resize(280,160),r.cornerRadius=e.radii.lg,r.layoutMode="VERTICAL",r.itemSpacing=e.spacing.md,r.paddingTop=e.spacing.md,r.paddingRight=e.spacing.md,r.paddingBottom=e.spacing.md,r.paddingLeft=e.spacing.md,r.fills=[{type:"SOLID",color:s(e.colors.neutral[0])}];let l=t==="elevated"?"2":"1",a=e.elevation[l],n=s(a.color);r.effects=[{type:"DROP_SHADOW",color:f(d({},n),{a:.1}),offset:{x:a.x,y:a.y},radius:a.blur,spread:a.spread,visible:!0,blendMode:"NORMAL"}];let i=figma.createText();i.characters="Card Title",i.fontSize=e.typography.body.fontSize,i.fontName={family:e.typography.label.fontFamily,style:"Regular"},i.fills=[{type:"SOLID",color:s(e.colors.neutral[900])}],r.appendChild(i);let o=figma.createText();return o.characters="This is the card content area. You can add any content here.",o.fontSize=e.typography.body.fontSize,o.fontName={family:e.typography.body.fontFamily,style:"Regular"},o.fills=[{type:"SOLID",color:s(e.colors.neutral[900])}],o.resize(r.width-e.spacing.md*2,o.height),r.appendChild(o),r}});return B();})();
